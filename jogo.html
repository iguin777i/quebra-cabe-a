<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quebra-Cabe√ßa Gamificado</title>
  <link rel="stylesheet" href="./styles/styles.css">
</head>

<body>
  <div class="left-top">
    <svg viewBox="0 0 439 784" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M-327.3 -133.318C-340.088 -124.217 -357.418 -117.467 -377.966 -123.501L-382.615 -125.07C-383.497 -125.406 -384.18 -125.622 -384.942 -125.962L-385.005 -125.874C-411.447 -134.927 -436.233 -144.536 -453.71 -150.204L-453.71 -150.203C-482.471 -159.568 -499.235 -170.891 -506.286 -183.308C-513.229 -195.536 -510.973 -209.276 -500.445 -224.24C-489.892 -239.239 -471.189 -255.189 -445.895 -271.445C-420.733 -287.617 -389.155 -304.023 -352.842 -320.046L-352.822 -320.042L-352.365 -320.243L-350.533 -321.044C-311.866 -337.814 -261.737 -351.18 -232.67 -354.839L-232.671 -354.839C-220.641 -356.349 -211.205 -356.869 -204.024 -356.424C-196.8 -355.975 -192.084 -354.559 -189.285 -352.405C-186.617 -350.354 -185.503 -347.482 -185.85 -343.454C-186.205 -339.327 -188.099 -334.109 -191.405 -327.715C-198.009 -314.944 -209.899 -298.124 -224.799 -277.07C-239.204 -256.716 -256.357 -232.491 -274.057 -204.371L-275.771 -201.638L-275.773 -201.636C-287.245 -183.25 -296.684 -168.538 -304.442 -156.707L-304.441 -156.707C-306.391 -153.801 -314.503 -142.425 -327.3 -133.318ZM-678.535 301.163C-682.253 304.193 -685.565 306.121 -688.47 306.888C-691.305 307.635 -693.73 307.278 -695.894 305.729C-698.134 304.125 -700.262 301.127 -702.139 296.246C-704.007 291.385 -705.57 284.806 -706.783 276.238C-709.132 259.641 -710.138 235.805 -709.629 203.023L-709.574 199.823C-708.79 157.339 -704.543 98.5749 -671.509 5.89918L-669.915 1.46027C-652.807 -45.776 -623.859 -71.9686 -591.085 -84.3197C-558.761 -96.5012 -522.559 -95.2741 -490.062 -87.2045L-488.517 -86.8154L-488.511 -86.8134L-485.61 -86.0753C-471.147 -82.3453 -457.379 -78.0788 -444.9 -73.797L-444.811 -73.7658L-444.767 -73.757C-440.678 -72.3453 -436.72 -70.9402 -432.934 -69.5509C-424.689 -65.8261 -414.895 -59.5625 -410.98 -50.0612C-407.14 -40.7443 -408.726 -27.6604 -424.758 -9.6764C-513.106 86.6939 -602.37 207.326 -648.509 267.027L-652.838 272.611C-662.494 285.023 -671.102 295.105 -678.535 301.163ZM110.6 -173.468C65.3025 -143.926 14.4939 -127.773 -38.9453 -121.42L-38.9447 -121.419C-67.3549 -118.062 -100.727 -119.303 -137.21 -119.715C-172.956 -120.119 -211.581 -119.721 -251.044 -113.343C-232.254 -144.842 -212.882 -174.759 -192.927 -204.512L-188.844 -210.586C-164.433 -246.854 -136.413 -282.105 -103.825 -311.461L-102.269 -312.855C-85.9866 -327.357 -69.5536 -336.978 -51.6788 -342.138C-34.5782 -347.074 -16.0738 -347.95 4.99959 -345.028L7.86473 -344.592C21.4623 -342.52 35.0242 -337.84 48.3056 -333.259L53.9805 -331.309L53.985 -331.308L56.39 -330.491C67.6347 -326.641 79.1744 -322.247 90.007 -317.335L92.3175 -316.274L92.3229 -316.273L96.0542 -314.552C114.381 -306.088 132.365 -297.434 147.877 -284.763L148.664 -284.116L148.667 -284.113L149.828 -283.136C161.598 -273.067 171.939 -258.842 171.053 -243.312L171 -242.547L171.001 -242.543C169.757 -226.56 158.483 -212.463 146.864 -201.616C136.356 -191.871 124.949 -182.988 112.999 -175.045L110.603 -173.469L110.6 -173.468ZM-548.295 549.14C-556.226 554.992 -563.673 557.718 -571.082 557.294C-578.5 556.868 -586.152 553.269 -594.451 545.921C-602.497 538.796 -611.058 528.23 -620.497 513.88L-621.413 512.479L-621.42 512.468C-647.026 472.965 -648.872 437.532 -636.761 400.809C-625.357 366.228 -601.591 330.528 -573.367 289.242L-567.665 280.909C-509.673 196.16 -393.006 55.4184 -348.499 11.0334C-361.19 62.3019 -369.143 107.47 -377.147 150.917C-385.356 195.477 -393.621 238.228 -407.115 284.003L-407.116 284.003C-430.631 363.72 -469.885 453.35 -521.676 520.973L-522.901 522.565C-532.02 534.35 -540.35 543.277 -548.295 549.14ZM231.067 60.4776C229.214 62.7615 225.919 65.148 220.978 67.6669C211.734 72.3795 197.255 77.3004 177.316 82.9399L173.255 84.077C89.8425 107.235 40.9843 106.905 6.15766 95.2516C-27.6472 83.9405 -48.3819 61.9691 -74.9939 39.5385L-77.5878 37.3671C-135.987 -11.177 -195.464 -40.0121 -213.109 -47.7778C-90.0232 -64.3747 41.3561 -31.484 149.765 10.7788L154.972 12.822C179.231 22.4101 197.936 30.284 210.993 37.082C217.523 40.4815 222.584 43.5834 226.204 46.4625C229.854 49.366 231.87 51.9112 232.587 54.1476C233.257 56.2378 232.858 58.2709 231.067 60.4776ZM-275.871 519.54C-285.473 529.233 -293.527 535.261 -300.258 537.951C-306.89 540.601 -312.095 539.971 -316.387 536.528C-320.829 532.966 -324.535 526.208 -327.533 516.014C-333.329 496.308 -336.202 464.781 -337.594 422.212L-337.725 418.059L-337.725 418.058C-339.191 370.075 -330.697 292.105 -317.763 213.011C-304.916 134.447 -287.71 54.9252 -271.614 2.80256C-263.907 4.86103 -219.815 18.0505 -151.429 68.2897L-147.939 70.8702L-147.937 70.8713L-146.166 72.1979C-109.21 100.099 -87.8656 130.727 -85.9514 171.086C-84.0307 211.587 -101.65 262.203 -143.501 330.079L-145.511 333.324C-185.482 397.499 -217.296 445.954 -242.618 479.759C-255.279 496.663 -266.293 509.871 -275.871 519.54ZM402.374 41.4406C399.806 45.0864 394.925 47.1615 385.879 45.5136L385.88 45.5145C382.968 44.9798 378.341 43.4304 373.448 41.3747C368.875 39.4541 364.18 37.1377 360.57 34.8976L359.862 34.4508L359.862 34.4499C350.471 28.4164 310.468 6.22314 259.271 -17.9289C209.144 -41.5763 148.167 -67.1559 94.5593 -81.3037C130.081 -100.055 171.079 -129.872 198.954 -151.745L201.688 -153.897C218.438 -167.116 239.151 -177.044 262.646 -173.058C285.785 -169.131 312.066 -151.634 340.191 -109.406L341.532 -107.376L341.535 -107.371L343.028 -105.093C350.789 -93.1543 362.822 -73.3791 369.049 -62.0166L369.051 -62.0163C377.082 -47.2582 384.445 -31.8908 391.419 -16.6117C395.416 -7.83388 402.866 9.74723 404.706 24.2183C405.632 31.5048 405.078 37.6015 402.374 41.4406ZM413.516 308.288C400.171 326.911 381.101 339.888 355.967 348.389L354.766 348.79L354.765 348.79C300.155 366.846 238.617 376.322 182.782 363.331L181.463 363.02L181.461 363.02C133.52 351.659 100.259 321.295 76.8418 275.345L75.7341 273.145L75.7336 273.145C58.2609 238.117 45.5276 209.37 26.0399 176.058C27.9426 176.245 30.2758 176.333 32.8154 176.357C36.7454 176.394 41.3059 176.28 45.8109 176.104C53.6168 175.798 61.5157 175.293 65.479 175.079L66.9244 175.007L66.9279 175.007L68.8341 174.905C88.8445 173.704 118.362 167.682 150.28 160.334C183.314 152.73 218.919 143.704 249.647 136.979L249.646 136.98C303.511 125.196 356.119 119.747 402.907 152.956L404.011 153.748L404.015 153.751L405.266 154.669C431.24 174.116 438.641 203.552 436.862 232.115L436.831 232.62L436.838 232.63C434.753 264.697 427.013 289.451 413.516 308.288ZM-353.25 715.529C-355.051 721.509 -358.615 725.896 -364.823 727.904L-365.432 728.091L-365.435 728.092C-377.76 731.692 -387.788 727.198 -402.252 719.849L-405.206 718.343L-405.208 718.342C-418.711 711.462 -429.07 705.078 -440.513 697.916L-445.496 694.795L-445.499 694.792C-471.553 678.599 -484.708 660.227 -488.683 641.646C-492.592 623.367 -487.681 604.595 -476.898 587.074L-476.883 587.077L-476.308 586.162C-441.689 531.084 -420.52 495.916 -401.781 457.422C-399.669 493.248 -394.444 535.186 -364.769 644.962C-361.675 656.523 -355.003 675.448 -352.626 692.689C-351.44 701.293 -351.363 709.264 -353.25 715.529ZM-114.209 740.097C-130.764 766.877 -157.622 782.3 -190.699 781.831L-192.279 781.797L-192.279 781.796C-201.611 781.529 -218.245 778.912 -228.484 774.525L-229.455 774.095C-252.616 763.433 -264.852 747.726 -269.842 729.49C-274.855 711.17 -272.601 690.128 -266.395 668.813C-254.758 628.839 -229.408 588.483 -213.471 564.548L-210.416 559.985C-175.905 508.732 -133.715 448.117 -98.0518 388.334C-63.2865 330.056 -34.6055 272.377 -25.3223 224.775C-2.35208 269.007 18.4975 304.353 28.2436 341.809C38.0328 379.43 36.5994 419.203 14.3753 472.089L13.3011 474.617L13.3016 474.618C-27.8426 570.498 -91.775 703.037 -113.218 738.48L-114.207 740.094L-114.209 740.097ZM276.174 599.164L274.799 599.998C266.93 604.687 259.78 606.232 253.302 605.624C246.812 605.015 240.852 602.23 235.404 598.015C224.803 589.814 216.35 576.368 210.029 563.878L209.424 562.672L209.423 562.671C204.132 552.08 199.204 541.285 194.384 530.452C174.399 485.443 151.337 435.499 145.087 421.694C162.72 427.898 187.605 432.118 214.806 433.849C242.74 435.627 273.227 434.79 300.992 430.738L303.671 430.335C323.123 427.33 339.266 425.775 351.593 426.576C363.99 427.381 372.06 430.539 375.996 436.46C379.931 442.381 380.128 451.665 375.191 465.772C370.417 479.415 360.975 497.18 346.251 519.984L346.249 519.981L344.949 521.965C326.525 550.12 304.937 581.434 276.174 599.164ZM154.873 693.734C141.918 713.079 118.826 723.513 97.1551 733.939L97.1546 733.939C72.143 745.968 60.2803 750.047 33.0408 758.363L27.3795 760.087L27.3781 760.086C14.771 763.926 0.226831 764.903 -9.41599 759.154C-14.1641 756.324 -17.8058 751.819 -19.4789 744.994C-21.1643 738.119 -20.8651 728.817 -17.5265 716.453C-14.0229 703.617 -2.73435 673.356 3.11232 660.048L3.66018 658.814L3.6613 658.812C17.3779 628.214 35.7144 589.624 52.3616 553.073C68.1817 518.338 82.4655 485.46 89.6389 463.352C95.7383 475.819 117.58 519.895 147.849 591.54L151.179 599.453C170.796 646.243 167.705 674.573 154.873 693.734Z"
        stroke="url(#paint0_linear_4_138)" stroke-width="3.08144" />
      <defs>
        <linearGradient id="paint0_linear_4_138" x1="193.565" y1="741.839" x2="29.9734" y2="-158.029"
          gradientUnits="userSpaceOnUse">
          <stop stop-color="#F79431" stop-opacity="0.1" />
          <stop offset="1" stop-color="#F4BC2D" />
        </linearGradient>
      </defs>
    </svg>

  </div>
  <div class="box-title">
    <h1 class="title">Quebra-Cabe√ßa</h1>
  </div>
  <div id="hud">
    <div><svg width="27" height="29" viewBox="0 0 29 31" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M26.3179 16.7264C26.3142 13.8323 25.2375 11.0424 23.296 8.89612C21.3545 6.74984 18.6861 5.39968 15.8069 5.10671V2.71172H16.9748C17.2845 2.71172 17.5816 2.58867 17.8006 2.36965C18.0196 2.15062 18.1427 1.85357 18.1427 1.54382C18.1427 1.23408 18.0196 0.937021 17.8006 0.717998C17.5816 0.498976 17.2845 0.375931 16.9748 0.375931H12.3032C11.9935 0.375931 11.6964 0.498976 11.4774 0.717998C11.2584 0.937021 11.1353 1.23408 11.1353 1.54382C11.1353 1.85357 11.2584 2.15062 11.4774 2.36965C11.6964 2.58867 11.9935 2.71172 12.3032 2.71172H13.4711V5.10671C11.2305 5.3285 9.10209 6.19428 7.34287 7.59947C5.58364 9.00465 4.2689 10.8891 3.55744 13.0253C2.84597 15.1615 2.76822 17.458 3.33358 19.6374C3.89893 21.8168 5.0832 23.7859 6.74335 25.3068L3.30228 28.7475C3.08954 28.9678 2.97182 29.2628 2.97448 29.569C2.97714 29.8752 3.09997 30.1682 3.3165 30.3847C3.53304 30.6012 3.82596 30.7241 4.13218 30.7267C4.4384 30.7294 4.73341 30.6117 4.95368 30.3989L8.63079 26.7224C10.4415 27.8232 12.5199 28.4053 14.639 28.4053C16.7581 28.4053 18.8365 27.8232 20.6472 26.7224L24.3243 30.3989C24.5446 30.6117 24.8396 30.7294 25.1458 30.7267C25.4521 30.7241 25.745 30.6012 25.9615 30.3847C26.178 30.1682 26.3009 29.8752 26.3035 29.569C26.3062 29.2628 26.1885 28.9678 25.9757 28.7475L22.5347 25.3068C23.7259 24.2172 24.6775 22.8917 25.3288 21.4145C25.9801 19.9374 26.317 18.3408 26.3179 16.7264ZM5.29587 16.7264C5.29587 14.8785 5.84383 13.0721 6.87047 11.5357C7.89711 9.99918 9.35631 8.80165 11.0635 8.09449C12.7708 7.38733 14.6494 7.2023 16.4618 7.56281C18.2742 7.92332 19.9389 8.81316 21.2456 10.1198C22.5523 11.4265 23.4421 13.0913 23.8026 14.9037C24.1631 16.7161 23.9781 18.5947 23.2709 20.3019C22.5638 22.0091 21.3662 23.4683 19.8298 24.495C18.2933 25.5216 16.4869 26.0696 14.639 26.0696C12.1619 26.0667 9.78711 25.0814 8.03555 23.3299C6.28399 21.5783 5.29871 19.2035 5.29587 16.7264Z"
          fill="url(#paint0_linear_4_147)" />
        <path
          d="M28.3117 6.55759L24.808 3.05392C24.5877 2.84117 24.2927 2.72346 23.9865 2.72612C23.6803 2.72878 23.3873 2.85161 23.1708 3.06814C22.9543 3.28468 22.8314 3.5776 22.8288 3.88382C22.8261 4.19004 22.9438 4.48505 23.1566 4.70531L26.6603 8.20899C26.8805 8.42173 27.1755 8.53945 27.4818 8.53679C27.788 8.53413 28.0809 8.4113 28.2974 8.19477C28.514 7.97823 28.6368 7.68531 28.6395 7.37909C28.6421 7.07287 28.5244 6.77786 28.3117 6.55759Z"
          fill="url(#paint1_linear_4_147)" />
        <path
          d="M6.12171 3.0539C6.01331 2.94541 5.8846 2.85934 5.74292 2.80062C5.60124 2.7419 5.44938 2.71167 5.29601 2.71167C5.14265 2.71167 4.99078 2.7419 4.8491 2.80062C4.70743 2.85934 4.57871 2.94541 4.47031 3.0539L0.966636 6.55758C0.753895 6.77785 0.636177 7.07286 0.638838 7.37908C0.641499 7.68529 0.764325 7.97822 0.980862 8.19475C1.1974 8.41129 1.49032 8.53412 1.79654 8.53678C2.10276 8.53944 2.39777 8.42172 2.61803 8.20898L6.12171 4.7053C6.23021 4.59691 6.31627 4.46819 6.375 4.32651C6.43372 4.18483 6.46394 4.03297 6.46394 3.8796C6.46394 3.72624 6.43372 3.57437 6.375 3.4327C6.31627 3.29102 6.23021 3.1623 6.12171 3.0539Z"
          fill="url(#paint2_linear_4_147)" />
        <path
          d="M17.9421 18.3779L15.8071 16.2428V13.2227C15.8071 12.913 15.6841 12.6159 15.465 12.3969C15.246 12.1779 14.9489 12.0548 14.6392 12.0548C14.3295 12.0548 14.0324 12.1779 13.8134 12.3969C13.5944 12.6159 13.4713 12.913 13.4713 13.2227V16.7264C13.473 17.0363 13.5962 17.3332 13.8144 17.5532L16.2904 20.0291C16.5106 20.2418 16.8057 20.3595 17.1119 20.3569C17.4181 20.3542 17.711 20.2314 17.9275 20.0149C18.1441 19.7983 18.2669 19.5054 18.2696 19.1992C18.2722 18.893 18.1549 18.5982 17.9421 18.3779Z"
          fill="url(#paint3_linear_4_147)" />
        <defs>
          <linearGradient id="paint0_linear_4_147" x1="14.639" y1="0.375931" x2="14.639" y2="30.7268"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#F79431" />
            <stop offset="1" stop-color="#F4BC2D" />
          </linearGradient>
          <linearGradient id="paint1_linear_4_147" x1="25.7341" y1="2.72607" x2="25.7341" y2="8.53683"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#F79431" />
            <stop offset="1" stop-color="#F4BC2D" />
          </linearGradient>
          <linearGradient id="paint2_linear_4_147" x1="3.55137" y1="2.71167" x2="3.55137" y2="8.53682"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#F79431" />
            <stop offset="1" stop-color="#F4BC2D" />
          </linearGradient>
          <linearGradient id="paint3_linear_4_147" x1="15.8705" y1="12.0548" x2="15.8705" y2="20.3569"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#F79431" />
            <stop offset="1" stop-color="#F4BC2D" />
          </linearGradient>
        </defs>
      </svg>Tempo: <span id="timer">0</span></div>
    <div><svg width="25" height="26" viewBox="0 0 30 31" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_4_149)">
          <path
            d="M15.8771 2.93447L19.2256 9.69474C19.3018 9.86633 19.4216 10.015 19.5731 10.1258C19.7246 10.2367 19.9025 10.3059 20.0891 10.3265L27.4811 11.4217C27.6953 11.4492 27.897 11.537 28.063 11.6749C28.2289 11.8128 28.3523 11.9951 28.4185 12.2005C28.4848 12.4059 28.4911 12.6258 28.437 12.8347C28.3831 13.0437 28.2706 13.2328 28.1129 13.3802L22.7847 18.6663C22.6489 18.7934 22.5467 18.9524 22.488 19.129C22.429 19.3055 22.4153 19.494 22.4477 19.6772L23.7324 27.1113C23.7697 27.325 23.7461 27.5447 23.6646 27.7456C23.5831 27.9465 23.4468 28.1205 23.2712 28.2479C23.0958 28.3751 22.8879 28.4505 22.6716 28.4657C22.4553 28.4806 22.239 28.4347 22.0476 28.3328L15.3927 24.8157C15.2223 24.7321 15.035 24.6888 14.8451 24.6888C14.6553 24.6888 14.468 24.7321 14.2976 24.8157L7.64261 28.3328C7.45115 28.4347 7.23497 28.4806 7.01866 28.4657C6.80235 28.4505 6.5946 28.3751 6.41906 28.2479C6.2435 28.1205 6.1072 27.9465 6.02566 27.7456C5.94414 27.5447 5.92061 27.325 5.9578 27.1113L7.24246 19.5929C7.27502 19.4097 7.26125 19.2213 7.20241 19.0447C7.14357 18.8681 7.04149 18.7091 6.9055 18.5821L1.51415 13.3802C1.35464 13.2288 1.24247 13.0344 1.19122 12.8205C1.13997 12.6066 1.15184 12.3825 1.22539 12.1752C1.29894 11.9679 1.43101 11.7864 1.60561 11.6527C1.78021 11.5189 1.98985 11.4387 2.20912 11.4217L9.60119 10.3265C9.78778 10.3059 9.96569 10.2367 10.1172 10.1258C10.2687 10.015 10.3885 9.86633 10.4646 9.69474L13.8132 2.93447C13.9044 2.73758 14.05 2.57088 14.2329 2.45406C14.4157 2.33724 14.6282 2.27516 14.8451 2.27516C15.0621 2.27516 15.2746 2.33724 15.4574 2.45406C15.6403 2.57088 15.7859 2.73758 15.8771 2.93447Z"
            stroke="url(#paint0_linear_4_149)" stroke-width="2.68037" stroke-linecap="round" stroke-linejoin="round" />
        </g>
        <defs>
          <linearGradient id="paint0_linear_4_149" x1="14.8166" y1="2.27516" x2="14.8166" y2="28.4684"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#F79431" />
            <stop offset="1" stop-color="#F4BC2D" />
          </linearGradient>
          <clipPath id="clip0_4_149">
            <rect width="29.484" height="29.484" fill="white" transform="translate(0.103149 0.638855)" />
          </clipPath>
        </defs>
      </svg>Pontua√ß√£o: <span id="score">1000</span></div>
  </div>

  <div id="puzzle"></div>

  <div class="box-button">
    <button class="button-1" onclick="abrirPopup()">Ver imagem de refer√™ncia</button>
  </div>

  <div id="popup-ref" class="popup-fundo" onclick="fecharFora(event)">
    <div class="popup-caixa">
      <div class="conteudo"></div>
      <button class="fechar-btn" onclick="fecharPopup()">Fechar</button>
    </div>
  </div>


  <!-- Popup -->
  <div id="popup">
    <div class="popup-content">
      <h2>Voc√™ completou o quebra cabe√ßa</h2>

      <div class="info-box">
        <p>üïí <strong>Seu Tempo:</strong> <span id="final-time">12</span>s</p>
        <p>‚≠ê <strong>Pontua√ß√£o:</strong> <span id="final-score">1000</span></p>
      </div>
      <button onclick="restartGame()">Jogar novamente</button>
    </div>
  </div>

  <div class="right-bottom">
    <svg width="599" height="734" viewBox="0 0 599 734" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M549.689 963.782C565.369 963.06 583.593 966.776 597.595 982.98L600.652 986.817C601.211 987.577 601.669 988.129 602.125 988.827L602.226 988.788C619.547 1010.72 635.174 1032.23 646.794 1046.46V1046.46C665.896 1069.91 673.852 1088.51 673.052 1102.77C672.263 1116.81 662.924 1127.13 645.967 1134.01C628.971 1140.9 604.61 1144.17 574.543 1144.13C544.632 1144.09 509.201 1140.78 469.998 1134.57L469.983 1134.56L469.49 1134.48L467.517 1134.16C425.93 1127.31 376.554 1111.39 350.14 1098.71H350.141C339.211 1093.47 330.997 1088.79 325.203 1084.53C319.374 1080.24 316.178 1076.49 314.991 1073.16C313.861 1069.99 314.479 1066.98 316.953 1063.78C319.488 1060.5 323.907 1057.14 330.149 1053.56C342.619 1046.4 361.725 1038.71 385.655 1029.08C408.791 1019.78 436.332 1008.71 466.443 994.661L469.365 993.292H469.367C488.971 984.052 504.875 976.8 517.806 971.059L517.805 971.058C521.018 969.672 534 964.505 549.689 963.782ZM1080.3 788.867C1085.06 788.334 1088.89 788.508 1091.75 789.438C1094.54 790.345 1096.38 791.959 1097.36 794.434C1098.38 796.995 1098.54 800.668 1097.47 805.787C1096.41 810.885 1094.16 817.262 1090.54 825.12C1083.52 840.344 1071.45 860.924 1053.26 888.202L1051.49 890.862C1027.81 926.147 992.405 973.24 914.432 1033.24L910.687 1036.11C870.717 1066.54 832.195 1072.88 797.956 1065.5C764.187 1058.23 734.422 1037.59 711.479 1013.2L710.392 1012.04L710.388 1012.03L708.349 1009.84C698.213 998.867 688.952 987.823 680.782 977.463L680.725 977.389L680.692 977.357C678.02 973.956 675.454 970.63 673.024 967.411C668.112 959.814 663.274 949.243 665.13 939.136C666.95 929.225 675.372 919.086 698.59 912.655C825.058 879.515 965.441 826.478 1036.57 801.293L1043.23 798.944C1058.07 793.743 1070.77 789.932 1080.3 788.867ZM159.866 760.297C213.945 760.006 265.403 773.954 313.762 797.565V797.565C339.46 810.134 366.839 829.256 397.28 849.367C427.108 869.072 459.789 889.663 496.415 905.681C463.556 921.978 431.066 936.629 398.174 950.827L391.451 953.721C351.285 970.98 308.636 985.431 265.341 992.451L263.278 992.779C241.735 996.148 222.711 995.332 204.891 989.985C187.843 984.87 171.814 975.582 155.685 961.709L153.513 959.79C143.205 950.683 134.342 939.402 125.66 928.356L121.946 923.643L121.943 923.639L120.364 921.649C112.999 912.321 105.68 902.376 99.2354 892.379L97.8682 890.235L97.8643 890.232L95.6602 886.764C84.8413 869.721 74.4126 852.704 68.2393 833.65L67.9287 832.68L67.9277 832.676L67.4805 831.226C63.043 816.386 62.057 798.827 71.2148 786.253L71.6738 785.639L71.6758 785.635C81.3797 772.874 98.4926 767.133 114.136 764.311C128.247 761.813 142.648 760.525 156.995 760.323L159.863 760.297H159.866ZM1105.17 509.875C1115 509.253 1122.74 510.996 1128.74 515.366C1134.74 519.743 1139.22 526.913 1142.22 537.586C1145.12 547.933 1146.59 561.453 1146.75 578.628L1146.76 580.302V580.315C1146.89 627.391 1129.24 658.173 1099.17 682.48C1070.85 705.368 1031.53 722.5 985.44 741.912L976.134 745.827C881.476 785.644 707.166 840.739 645.711 853.935C684.152 817.716 715.307 784.059 745.572 751.877C776.613 718.87 806.721 687.414 842.861 656.248L842.862 656.249C905.814 601.983 987.366 547.911 1067.53 519.13L1069.43 518.455C1083.48 513.489 1095.31 510.498 1105.17 509.875ZM185.35 498.394C188.145 497.478 192.207 497.257 197.725 497.816C208.048 498.863 222.884 502.571 242.698 508.633L246.728 509.877C329.385 535.601 370.273 562.348 393.233 591.01C415.52 618.831 421.045 648.532 431.262 681.803L432.266 685.033C455.054 757.474 489.425 813.933 500.049 830.02C387.599 777.288 294.989 678.467 226.763 584.213L223.493 579.675C208.297 558.473 196.84 541.722 189.548 528.934C185.901 522.539 183.328 517.19 181.845 512.809C180.349 508.39 180.033 505.159 180.643 502.891C181.212 500.771 182.649 499.278 185.35 498.394ZM860.148 387.169C873.47 384.223 883.506 383.52 890.62 384.905C897.631 386.271 901.664 389.62 903.407 394.839C905.211 400.24 904.665 407.928 901.662 418.12C895.858 437.824 881.193 465.88 859.302 502.415L857.161 505.977V505.978C832.398 547.103 783.018 608.039 729.298 667.513C675.937 726.589 618.393 784.109 576.627 819.2C571.264 813.294 541.348 778.321 511.084 699.045L509.549 694.985L509.548 694.983L508.778 692.909C492.831 649.436 491.483 612.128 511.738 577.168C532.065 542.085 574.296 509.086 646.245 474.706L649.693 473.067C718.057 440.781 771.049 417.288 810.646 402.591C830.446 395.242 846.86 390.107 860.148 387.169ZM31.0459 421.589C35.1795 419.916 40.4068 420.816 47.1172 427.102V427.101C49.2751 429.128 52.3243 432.936 55.3242 437.315C58.1268 441.407 60.8188 445.898 62.6396 449.736L62.9922 450.495V450.496C67.6169 460.655 89.2171 500.981 119.166 549.018C148.489 596.051 185.885 650.586 223.279 691.52C183.263 688.037 132.649 690.888 97.3701 694.172L93.9053 694.5C72.6653 696.537 49.8767 693.661 32.2881 677.581C14.9658 661.745 2.35501 632.8 1.5918 582.069L1.56445 579.637V579.631L1.54395 576.907C1.48855 562.668 2.08767 539.527 3.00879 526.603L3.00781 526.602C4.25204 509.846 6.38857 492.94 8.80469 476.319C10.2 466.776 13.4625 447.962 19.7559 434.802C22.9247 428.175 26.6932 423.351 31.0459 421.589ZM166.246 191.258C187.552 182.834 210.611 182.257 236.343 188.729L237.569 189.042H237.57C293.254 203.451 350.113 228.824 390.007 269.992L390.946 270.968L390.948 270.97C425.09 306.491 436.598 350.032 431.387 401.341L431.126 403.79V403.791C426.836 442.699 421.965 473.76 420.299 512.317C418.801 511.13 416.887 509.792 414.766 508.396C411.482 506.235 407.587 503.861 403.705 501.568C396.978 497.596 390.065 493.742 386.618 491.774L385.364 491.052L385.361 491.05L383.704 490.103C366.233 480.272 338.161 469.342 307.352 458.227C275.465 446.722 240.648 435.02 211.178 424.025H211.179C159.519 404.748 112.348 380.828 91.0117 327.567L90.5127 326.304L90.5107 326.299L89.957 324.85C78.6601 294.433 88.387 265.681 105.355 242.636L105.655 242.229V242.216C124.78 216.392 144.697 199.778 166.246 191.258ZM1031.37 264.353C1036.12 260.302 1041.49 258.545 1047.8 260.221L1048.41 260.394L1048.41 260.395C1060.72 264.045 1066.72 273.255 1074.89 287.269L1076.56 290.135L1076.56 290.137C1084.18 303.234 1089.43 314.213 1095.17 326.432L1097.67 331.755L1097.67 331.759C1110.8 359.485 1111.9 382.054 1105.18 399.825C1098.56 417.307 1084.26 430.424 1065.71 439.311L1065.7 439.3L1064.72 439.757C1005.78 467.298 968.933 485.389 932.328 507.594C949.961 476.336 968.29 438.254 1002.82 329.907C1006.48 318.514 1011.13 298.992 1018.47 283.213C1022.13 275.338 1026.39 268.597 1031.37 264.353ZM843.752 114.201C872.176 100.66 903.106 102.247 930.654 120.561L931.964 121.445V121.446C939.663 126.726 952.227 137.938 958.456 147.172L959.039 148.06C972.731 169.569 974.506 189.4 968.821 207.432C963.11 225.545 949.816 242.011 933.053 256.565C901.615 283.861 858.444 304.048 832.082 315.532L827.042 317.713C770.268 342.096 701.967 370.189 639.604 401.118C578.81 431.269 523.454 464.213 489.863 499.194C494.518 449.572 496.142 408.567 508.242 371.804C520.396 334.878 543.147 302.224 590.479 269.812L592.751 268.269V268.268C679.278 209.966 804.818 133.198 842.043 115.023L843.749 114.203L843.752 114.201ZM439.27 21.17L440.877 21.2139C450.032 21.5356 456.879 24.1107 461.994 28.1309C467.12 32.1594 470.62 37.7291 472.916 44.2227C477.384 56.8595 477.205 72.7406 475.751 86.6631L475.606 88.0049V88.0069C474.316 99.7745 472.61 111.519 470.793 123.235C463.207 171.894 455.534 226.368 453.309 241.357C441.848 226.589 423.218 209.561 401.292 193.37C378.776 176.743 352.697 160.93 327.164 149.293L324.694 148.181C306.716 140.169 292.304 132.73 282.377 125.379C272.393 117.986 267.321 110.959 267.221 103.851C267.121 96.7417 271.984 88.8316 283.776 79.6485C295.181 70.7676 312.741 60.9506 337.472 49.7598V49.7637L339.639 48.7999C370.379 35.1158 405.488 20.4909 439.27 21.17ZM592.461 7.39557C613.831 -1.84661 638.893 1.89395 662.757 4.87018V4.87115C690.297 8.31008 702.478 11.3077 729.879 19.0753L735.571 20.6934L735.572 20.6944C748.249 24.2968 761.003 31.3551 765.994 41.4112C768.452 46.3627 769.073 52.1215 766.781 58.7647C764.473 65.4569 759.183 73.1131 749.678 81.6973C739.779 90.5886 713.897 109.908 701.772 117.927L700.644 118.667L700.642 118.668C672.536 136.956 636.217 159.458 602.423 181.162C570.308 201.788 540.49 221.685 522.483 236.381C524.111 222.598 529.63 173.717 543.002 97.0987L544.489 88.6436C553.349 38.6868 571.295 16.5498 592.461 7.39557Z"
        stroke="url(#paint0_linear_2_129)" stroke-width="3.08144" />
      <defs>
        <linearGradient id="paint0_linear_2_129" x1="586" y1="-54" x2="236" y2="791" gradientUnits="userSpaceOnUse">
          <stop stop-color="#4E9F44" stop-opacity="0" />
          <stop offset="1" stop-color="#4E9F44" />
        </linearGradient>
      </defs>
    </svg>

  </div>
  <script>
    const puzzle = document.getElementById('puzzle');
    const timerDisplay = document.getElementById('timer');
    const scoreDisplay = document.getElementById('score');
    const statusDisplay = document.getElementById('status');
    const popup = document.getElementById('popup');
    const finalTime = document.getElementById('final-time');
    const finalScore = document.getElementById('final-score');
    const OpenPopupRef = document.getElementById('popup-ref');


    let positions = Array.from({ length: 9 }, (_, i) => i);
    const images = ['Soulcitro3.png', 'Soulcitro2.png', 'Soulcitro.png'];
    const imgSrc = images[Math.floor(Math.random() * images.length)];
    document.querySelector('.conteudo').style.backgroundImage = `url(${imgSrc})`;

    let draggedPiece = null;
    let score = 1000;
    let time = 0;
    let timerInterval;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function startTimer() {
      time = 0;
      timerDisplay.textContent = '0s'; // Initial display
      clearInterval(timerInterval); // Clear any existing interval
      timerInterval = setInterval(() => {
        time++;
        if (time < 60) {
          timerDisplay.textContent = time + 's';
        } else {
          const minutes = Math.floor(time / 60);
          const seconds = time % 60;
          timerDisplay.textContent = `${minutes}m ${seconds.toString().padStart(2, '0')}s`;
        }
      }, 1000);
    }

    function stopTimer() {
      clearInterval(timerInterval);
    }

    function updateScore(points) {
      score = Math.max(0, score - points);
      scoreDisplay.textContent = score;

      function drop(e) {
        const targetPiece = e.target;

        if (draggedPiece === targetPiece) return;

        const draggedIndex = [...puzzle.children].indexOf(draggedPiece);
        const targetIndex = [...puzzle.children].indexOf(targetPiece);

        // Troca apenas os dois elementos
        const temp = document.createElement('div');
        puzzle.replaceChild(temp, draggedPiece);
        puzzle.replaceChild(draggedPiece, targetPiece);
        puzzle.replaceChild(targetPiece, temp);

        updateScore(10);
        checkVictory();
      }

      function checkVictory() {
        const children = [...puzzle.children];
        const correct = children.every((child, index) => +child.dataset.index === index);

        if (correct) {
          stopTimer();
          // Update final time display to also show minutes if applicable
          if (time < 60) {
            finalTime.textContent = time + 's';
          } else {
            const minutes = Math.floor(time / 60);
            const seconds = time % 60;
            finalTime.textContent = `${minutes}m ${seconds.toString().padStart(2, '0')}s`;
          }
          finalScore.textContent = score;
          popup.classList.add('active');
        }

        document.getElementById('result-image').style.backgroundImage = `url(${imgSrc})`;

      }
    }

    function createPieces() {
      shuffle(positions);
      puzzle.innerHTML = '';

      positions.forEach((pos, index) => {
        const piece = document.createElement('div');
        piece.classList.add('piece');
        piece.draggable = true;
        piece.dataset.index = pos;
        piece.dataset.position = index;
        piece.style.backgroundImage = `url(${imgSrc})`;
        piece.style.backgroundPosition = `-${(pos % 3) * 130}px -${Math.floor(pos / 3) * 130}px`; /* Changed 100 to 130 */

        piece.addEventListener('dragstart', dragStart);
        piece.addEventListener('dragover', dragOver);
        piece.addEventListener('drop', drop);
        piece.addEventListener('dragenter', e => e.preventDefault());

        puzzle.appendChild(piece);
      });
    }

    function dragStart(e) {
      draggedPiece = e.target;
    }

    function dragOver(e) {
      e.preventDefault();
    }

    function drop(e) {
      const targetPiece = e.target;

      if (draggedPiece === targetPiece) return;

      const draggedIndex = [...puzzle.children].indexOf(draggedPiece);
      const targetIndex = [...puzzle.children].indexOf(targetPiece);

      // Troca apenas os dois elementos
      const temp = document.createElement('div');
      puzzle.replaceChild(temp, draggedPiece);
      puzzle.replaceChild(draggedPiece, targetPiece);
      puzzle.replaceChild(targetPiece, temp);

      updateScore(10);
      checkVictory();
    }

    function checkVictory() {
      const children = [...puzzle.children];
      const correct = children.every((child, index) => +child.dataset.index === index);

      if (correct) {
        stopTimer();
        const minutes = Math.floor(time / 60);
        const seconds = time % 60;
        finalTime.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        finalScore.textContent = score;
        popup.classList.add('active');
      }
    }



    function restartGame() {
      popup.classList.remove('active');
      score = 1000; // Reset score to initial value
      scoreDisplay.textContent = score;
      // Time will be reset by startTimer
      window.location.href = "ref.html";
    }

    // Inicia o jogo ao carregar
    createPieces();
    startTimer();

    function abrirPopup() {
      document.getElementById("popup-ref").style.display = "flex";
    }

    function fecharPopup() {
      document.getElementById("popup-ref").style.display = "none";
    }
  </script>
</body>

</html>